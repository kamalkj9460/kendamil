<div class="page-width register">
<div class="width-50">
  
  {% section 'register_image' %}
 
  </div>
  <div class="width-50 register_form_div">
    <div class="login_div register_div">

      <div class="form-vertical">

        <div class="loginTitle">
          <h1 id="LoginHeading">Sign up</h1>
           <p>
              Already have an account?<a href="/account/login" id="customer_login_link">Login</a>
            </p>
        </div>

        {%- assign formId = 'RegisterForm' -%}
        {% form 'create_customer', id: formId, novalidate: 'novalidate' %}
          {% include 'form-status', form: form, form_id: formId %}
		
        <div class="half"> 
          <input placeholder="{{ 'customer.register.first_name' | t }}" type="text" name="customer[first_name]" id="{{ formId }}-FirstName" {% if form.first_name %}value="{{ form.first_name }}"{% endif %} autocomplete="given-name">
          <div id="diverrfname" class="register_error" style="padding-bottom: 5px;"></div>
        </div>
         <div class="half last-child"> 
          <input placeholder="{{ 'customer.register.last_name' | t }}" type="text" name="customer[last_name]" id="{{ formId }}-LastName" {% if form.last_name %}value="{{ form.last_name }}"{% endif %} autocomplete="family-name">
         <div id="diverrlname" class="register_error" style="padding-bottom: 5px;"></div>
        </div>
         
          <input
            type="email"
                 placeholder="{{ 'customer.register.email' | t }}"
            name="customer[email]"
            id="{{ formId }}-email"
            class="{% if form.errors contains 'email' %} input--error{% endif %}"
            {% if form.email %} value="{{ form.email }}"{% endif %}
            autocorrect="off"
            autocapitalize="off"
            autocomplete="email"
            aria-required="true"
            {%- if form.errors contains 'email' -%}
              class="input--error"
              aria-invalid="true"
              aria-describedby="{{ formId }}-email-error"
            {%- endif -%}
          >
          
                <div id="diverremail" class="register_error" style="padding-bottom: 5px;"></div>
        
          <input
            type="password" minlength="5"
                 placeholder="{{ 'customer.register.password' | t }}"
            name="customer[password]"
            id="{{ formId }}-password"
            class="{% if form.errors contains 'password' %} input--error{% endif %}"
            aria-required="true"
            {%- if form.errors contains 'password' -%}
              class="input--error"
              aria-invalid="true"
              aria-describedby="{{ formId }}-password-error"
            {%- endif -%}
          >
            <div id="diverrpass" class="register_error" style="padding-bottom: 5px;"></div>
          <div id="message" class="register_error" style="padding-bottom: 5px;"></div>

          <p class="text-center">
            <input type="submit" id="RegisterForm_submit" value="sign up" class="btn">
          </p>

        {% endform %}
      </div>
    </div>
  
    {% section 'register_form' %}
  
  </div> 
</div>

<script type="text/javascript">
$(document).ready(function(){
  
 /* $("#RegisterForm input").keyup(function() {

    $(this).removeClass( "errorClass" );
});*/
	
$("#RegisterForm_submit").click(function(){
var fname = $("#RegisterForm-FirstName").val(); 
var lname = $("#RegisterForm-LastName").val(); 
var Email = $("#RegisterForm-email").val();
var atpos = Email.indexOf("@");
var dotpos = Email.lastIndexOf(".");
var password = $("#RegisterForm-password").val(); 

//var cpasswords = password; */

 

if($.trim(fname)=="")
{			
	$("#diverrfname").html("Please enter first name");
	$('#RegisterForm-FirstName').addClass('errorClass'); 
	$("#RegisterForm-FirstName").focus();
	return false;
}
else
{
	$("#RegisterForm-FirstName").removeClass("errorClass");
	$("#diverrfname").html("");
}

if($.trim(lname)=="")
{			
	$("#diverrlname").html("Please enter last name");
	$('#RegisterForm-LastName').addClass('errorClass'); 
	$("#RegisterForm-LastName").focus();
	return false;
}
else
{
	$("#RegisterForm-LastName").removeClass("errorClass");
	$("#diverrlname").html("");
}


if($.trim(Email)=="")
{
	$("#diverremail").html("Please enter email");
	$('#RegisterForm-email').addClass('errorClass'); 
	$("#RegisterForm-email").focus();
	return false;
	
}
else
{
	$("#RegisterForm-email").removeClass("errorClass");
	$("#diverremail").html("");
}

if(atpos<1 || dotpos<atpos+2 || dotpos+2>=Email.length)
			{
				 $("#diverremail").html("Please enter valid email id");
				 $('#RegisterForm-email').addClass('errorClass'); 
				 $("#RegisterForm-email").focus();
				 return false;
			}
		  else
			{
				$("#RegisterForm-email").removeClass("errorClass");  	
				$("#diverremail").html("");
			}	
					
		

if($.trim(password)=="")
{			
	$("#diverrpass").html("Please enter password");
	$('#RegisterForm-password').addClass('errorClass'); 
	$("#RegisterForm-password").focus();
	return false;
}
else
{
	$("#RegisterForm-password").removeClass("errorClass");
	$("#diverrpass").html("");
}


if (password.length>=5) {
 
	$("#message").html("");
  } else {
  
    $('#message').html('Password length is too short');
	$('#message').addClass('errorClass');
	$('#message').css('display','block');
	return false;
  } 
/* if($.trim(cpasswords)=="")
{
	
$("#diverrcpasss").html("Password does not match");
$('#cpasswords').addClass('errorClass');
$("#cpasswords").focus(); 	
}

else
{
	$("#cpasswords").removeClass("errorClass");
	$("#diverrcpasss").html("");
}   */
});
});
			  
</script>
